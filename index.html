<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="stiller.css">
  <link href="https://fonts.googleapis.com/css?family=Bree+Serif" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Days+One" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Viga" rel="stylesheet">
  <title>İletişim Formu</title>
</head>

<body>
  <div id="app">
    <div class="container" style="text-align:center;">
      <form @submit.prevent="handleSubmit" style="text-align: center;">
        <br><br><br>
        <div>
          <label>Kullanıcı Adı:</label>
          <br>
          <input type="text" v-model="form.kadi" style="width:300px;" placeholder="Kullanıcı adı">
          <div v-if="errors.kadi" class="text-danger">{{ errors.kadi }}</div>
        </div>

        <br><br>
        <div>
          <label>E-mail:</label>
          <br>
          <input type="email" v-model="form.email" style="width:300px;" placeholder="E-mail">
          <div v-if="errors.email" class="text-danger">{{ errors.email }}</div>
        </div>

        <br><br>
        <div>
          <label>Ad Soyad:</label>
          <br>
          <input type="text" v-model="form.ad" style="width:300px;" placeholder="Ad">
          <input type="text" v-model="form.soyad" style="width:300px;" placeholder="Soyad">
          <div v-if="errors.ad" class="text-danger">{{ errors.ad }}</div>
          <div v-if="errors.soyad" class="text-danger">{{ errors.soyad }}</div>
        </div>

        <br><br>
        <div>
          <label>Şifre:</label>
          <br>
          <input type="password" v-model="form.sifre" style="width:300px;" placeholder="Şifre">
          <div v-if="errors.sifre" class="text-danger">{{ errors.sifre }}</div>
        </div>

        <br><br>
        <div>
          <label>Telefon:</label>
          <br>
          <input type="tel" v-model="form.telNo" style="width:300px;" placeholder="Telefon">
          <div v-if="errors.telNo" class="text-danger">{{ errors.telNo }}</div>
        </div>

        <br><br>
        <div>
          <label>Doğum Tarihi:</label>
          <br>
          <input type="date" v-model="form.dogumTarihi" style="width:300px;">
          <div v-if="errors.dogumTarihi" class="text-danger">{{ errors.dogumTarihi }}</div>
        </div>

        <br><br>
        <div>
          <label>Cinsiyet:</label>
          <br>
          <select v-model="form.cinsiyet" style="width:300px;">
            <option value="kadin">Kadın</option>
            <option value="erkek">Erkek</option>
          </select>
          <div v-if="errors.cinsiyet" class="text-danger">{{ errors.cinsiyet }}</div>
        </div>

        <br><br>
        <div>
          <label>Eğitim Derecesi:</label>
          <br>
          <input type="radio" value="Önlisans" v-model="form.egitimDerecesi"> Önlisans
          <input type="radio" value="Lisans" v-model="form.egitimDerecesi"> Lisans
          <input type="radio" value="Doktora" v-model="form.egitimDerecesi"> Doktora
          <div v-if="errors.egitimDerecesi" class="text-danger">{{ errors.egitimDerecesi }}</div>
        </div>

        <br><br>
        <div>
          <label>İstek veya yorumunuz:</label>
          <br>
          <textarea v-model="form.yorum" rows="10" cols="40" style="width:300px;" placeholder="Yazınız."></textarea>
        </div>

        <br><br>
        <div>
          <input type="checkbox" v-model="form.check"> Bilgilerimi vermeyi kabul ediyorum.
          <div v-if="errors.check" class="text-danger">{{ errors.check }}</div>
        </div>

        <br><br>
        <button type="button" @click="validateForm">Vue.js ile kontrol</button>
        <button type="button" @click="jsValidateForm">Js ile kontrol butonu</button>
        <button type="submit">Gönder</button>
        <button type="reset" @click="resetForm">Temizle</button>
      </form>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    new Vue({
      el: '#app',
      data: {
        form: {
          kadi: '',
          email: '',
          ad: '',
          soyad: '',
          sifre: '',
          telNo: '',
          dogumTarihi: '',
          cinsiyet: '',
          egitimDerecesi: '',
          yorum: '',
          check: false
        },
        errors: {},
        vueValidated: false,
        jsValidated: false
      },
      methods: {
        validateForm() {
          this.errors = {};

          if (!this.form.kadi) {
            this.errors.kadi = 'Kullanıcı adı gerekli.';
          }
          if (!this.form.email) {
            this.errors.email = 'E-mail gerekli.';
          } else if (!this.validEmail(this.form.email)) {
            this.errors.email = 'Geçerli bir e-mail adresi giriniz.';
          }
          if (!this.form.ad) {
            this.errors.ad = 'Ad gerekli.';
          }
          if (!this.form.soyad) {
            this.errors.soyad = 'Soyad gerekli.';
          }
          if (!this.form.sifre) {
            this.errors.sifre = 'Şifre gerekli.';
          }
          if (!this.form.telNo) {
            this.errors.telNo = 'Telefon gerekli.';
          }
          if (!this.form.dogumTarihi) {
            this.errors.dogumTarihi = 'Doğum tarihi gerekli.';
          }
          if (!this.form.cinsiyet) {
            this.errors.cinsiyet = 'Cinsiyet seçimi gerekli.';
          }
          if (!this.form.egitimDerecesi) {
            this.errors.egitimDerecesi = 'Eğitim derecesi seçimi gerekli.';
          }
          if (!this.form.check) {
            this.errors.check = 'Bilgileri kabul etmeniz gerekli.';
          }

          if (Object.keys(this.errors).length === 0) {
            this.vueValidated = true;
            alert('Vue.js ile kontrol tamam!');
          }
        },
        validEmail(email) {
          const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          return re.test(email);
        },
        jsValidateForm() {
          this.errors = {};
          const form = this.form;

          if (!form.kadi) {
            this.errors.kadi = 'Kullanıcı adı gerekli.';
          }
          if (!form.email) {
            this.errors.email = 'E-mail gerekli.';
          } else if (!this.validEmail(form.email)) {
            this.errors.email = 'Geçerli bir e-mail adresi giriniz.';
          }
          if (!form.ad) {
            this.errors.ad = 'Ad gerekli.';
          }
          if (!form.soyad) {
            this.errors.soyad = 'Soyad gerekli.';
          }
          if (!form.sifre) {
            this.errors.sifre = 'Şifre gerekli.';
          }
          if (!form.telNo) {
            this.errors.telNo = 'Telefon gerekli.';
          }
          if (!form.dogumTarihi) {
            this.errors.dogumTarihi = 'Doğum tarihi gerekli.';
          }
          if (!form.cinsiyet) {
            this.errors.cinsiyet = 'Cinsiyet seçimi gerekli.';
          }
          if (!form.egitimDerecesi) {
            this.errors.egitimDerecesi = 'Eğitim derecesi seçimi gerekli.';
          }
          if (!form.check) {
            this.errors.check = 'Bilgileri kabul etmeniz gerekli.';
          }

          if (Object.keys(this.errors).length === 0) {
            this.jsValidated = true;
            alert('JavaScript ile kontrol tamam!');
          }
        },
        handleSubmit() {
          this.validateForm();
          this.jsValidateForm();

          if (this.vueValidated && this.jsValidated) {
            // Formu gönderme işlemleri burada yapılır
            const formData = this.form;
            const queryString = Object.keys(formData).map(key => `${key}=${encodeURIComponent(formData[key])}`).join('&');
            window.location.href = `sonuc.html?${queryString}`;
          } else {
            alert('Formu göndermeden önce tüm kontrolleri yapınız.');
          }
        },
        resetForm() {
          this.form = {
            kadi: '',
            email: '',
            ad: '',
            soyad: '',
            sifre: '',
            telNo: '',
            dogumTarihi: '',
            cinsiyet: '',
            egitimDerecesi: '',
            yorum: '',
            check: false
          };
          this.errors = {};
          this.vueValidated = false;
          this.jsValidated = false;
        }
      }
    });
  </script>
</body>

</html>
